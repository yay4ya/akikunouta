{"version":3,"sources":["webpack:///./src/components/Track.vue?7465","webpack:///../../../src/components/VCard/index.ts","webpack:///./src/components/Track.vue","webpack:///./src/components/Track.vue?59e1","webpack:///./src/components/Track.vue?b376","webpack:///./src/components/Track.vue?3976"],"names":["VCardActions","createSimpleFunctional","VCardSubtitle","VCardText","VCardTitle","VCard","attrs","_vm","_c","staticClass","on","stopPropagation","domProps","track","title","queueing","$event","key","playlistDialog","expression","staticRenderFns","Vue","extend","name","props","components","PlaylistDialog","this","fetchVideoInfo","data","nowPlaying","computed","mapState","mounted","playingTrack","uuid","scrollIntoView","methods","mapMutations","addFavoriteTrack","VuexMutation","removeFavoriteTrack","addToQueue","addMessage","secondsToTime","t","onClick","$emit","onDelete","queueElement","document","getElementById","nowPlayingTrackElement","getElementsByClassName","behavior","toggleFavorite","isFavorite","addTrackToQueue","clone","Message","watch","nowPlayingId","id","favoriteTracks","component"],"mappings":"kHAAA,W,6DCAA,oKAGA,MAAMA,EAAeC,eAAuB,mBACtCC,EAAgBD,eAAuB,oBACvCE,EAAYF,eAAuB,gBACnCG,EAAaH,eAAuB,iBAYtCI,Q,iIClB8LC,EAAM,W,IAAC,OAAU,IAAO,MAAlB,GAAqB,EAAS,kB,OAAU,oB,YAASC,aAAT,OAAwBC,gBAAS,cAAP,MAAmF,CAAOC,QAAuBD,KAAG,GAAUF,QAAM,OAAgBC,MAAO,YAAsD,CAACC,EAAG,MAAD,CAAUC,YAAY,2DAAeH,GAAK,MAAC,C,YAAA,U,CAAY,SAAZ,C,MAAsB,CAAa,YAArE,iCAA6HI,YAAG,c,CAAC,SAAQ,C,YAAwBC,e,MAAkB,CAAiD,SAApG,QAAwGH,MAAG,KAAUF,OAAM,KAAC,MAAO,6BAAzB,GAAiCC,CAAiGE,MAAW,SAAC,GAAwC,OAAVG,EAAS,kBAAC,iBAAyBC,MAAMC,KAAQ,cAAmDL,UAAW,CAAgCG,OAAU,YAA3jB,CAAqmBJ,EAAG,UAAc,mEAACC,YAAY,8BAA5B,SAA6D,CAAQA,YAAY,4CAA4BH,EAAK,OAAC,C,YAAW,+B,SAAsB,CAAxC,oCAA+D,SAAQ,C,YAAwBK,8B,CAAmB,SAApD,+BAAuD,CAACH,EAAG,KAAUC,OAA2BH,KAAM,uBAAC,OAAO,UAApD,GAA4DC,CAA2FE,MAAW,SAAC,GAAsB,EAAK,qB,CAA0E,SAAS,CAA5E,YAAP,eAA6FC,MAAG,CAAC,Y,CAAmD,iFAApD,+BAAuD,CAACF,EAAG,KAAUF,MAAM,CAAC,KAAO,oDAAR,iBAAuJG,IAAqCD,MAAG,SAAQ,GAACF,EAAM,qBAAnB,CAA0EE,EAAG,OAAM,CAACC,OAA+BF,KAAIQ,O,CAA6B,uBAAD,iG,YAAA,wB,CAAsB,SAAO,CAA7B,MAAP,CAA0C,IAAC,8C,EAA0BC,MAAOL,C,YAAyBJ,iB,CAA+B,qBAAzF,OAA6FC,KAAG,GAAUF,MAAM,GAAC,KAAO,IAAzB,GAAiCC,CAAiDD,MAAM,YAAmB,OAAlB,oBAAkB,kBAAa,Y,CAAyBW,EAAG,OAAC,C,MAAe,C,KAAS,O,CAAA,EAAc,sC,MAAC,C,YAAwC,M,WAAQ,I,YAAc,EAAO,K,IAApC,Y,GAAwCP,UAAG,G,kBAAA,qBAAlD,MAAyG,CAAuCJ,KAAM,GAAC,MAAO,GAAR,SAAmD,IAA9U,kBAAwV,uBAAwD,QAACY,GAAJ,iBAArD,OAA6EC,KAAW,OAAuB,8BAAiB,QAAO,OAA3e,MAA/Q,EAAwxBX,eAAUC,SAAW,SAAC,GAAmBF,EAAA,eAAqB,GAAiHC,WAAW,mB,CAAQ,mBAAD,C,MAAW,CAAW,MAAO,EAA7B,UAA6C,OAAS,SAAtD,YAAP,kBAAmEE,CAAE,EAAC,sF,YAAS,oB,GAAiBM,OAAOL,C,MAAkB,CAA+B,QAAlF,SAAsFH,KAAG,GAAUF,MAAM,KAAC,OAAO,MAAzB,GAAiCC,CAAviG,kBAEIa,O,oBAAAA,EAAe,SAAnB,Y,0ICMiBC,SAAIC,OAAO,CACxBC,KAAM,QACNC,MAAO,CAAC,QAAS,YAAa,eAAgB,YAC9CC,WAAY,CACVC,eAAgB,IAAM,iDAExB,sBACQC,KAAKd,MAAMe,kBAEnBC,OACE,MAAO,CACLC,YAAY,EACZZ,gBAAgB,IAGpBa,SAAU,IACLC,eAAS,CAAC,eAAgB,oBAE/BC,UACMN,KAAKO,cAAgBP,KAAKO,aAAaC,OAASR,KAAKd,MAAMsB,MAC7DR,KAAKS,kBAGTC,QAAS,IACJC,eAAa,CACdC,iBAAkBC,OAClBC,oBAAqBD,OACrBE,WAAYF,OACZG,WAAYH,SAEdI,cAAcC,GACZ,OAAOD,eAAcC,IAEvBC,UACEnB,KAAKoB,MAAM,UAAWpB,KAAKd,OAC3Bc,KAAKS,kBAEPY,WACErB,KAAKoB,MAAM,UAAWpB,KAAKd,QAE7BuB,iBAEE,MAAMa,EAAeC,SAASC,eAAe,SACvCC,EAAyBH,EAAaI,uBAAuB,mBAAmB,GAClFD,GACFA,EAAuBhB,eAAe,CAAEkB,SAAU,YAGtDC,iBACM5B,KAAKd,MAAM2C,YACb7B,KAAKc,oBAAoBd,KAAKd,OAC9Bc,KAAKd,MAAM2C,YAAa,IAExB7B,KAAKY,iBAAiBZ,KAAKd,OAC3Bc,KAAKd,MAAM2C,YAAa,IAG5BC,gBAAgB5C,GACdc,KAAKe,WAAW7B,EAAM6C,SACtB/B,KAAKgB,WAAW,IAAIgB,OAAQ,OAAQ,IAAM9C,EAAMC,MAAQ,oBAG5D8C,MAAO,CACL1B,eAC4B,SAAtBP,KAAKkC,aACPlC,KAAKG,WAAaH,KAAKO,aAAaC,OAASR,KAAKd,MAAMsB,KAExDR,KAAKG,WAAaH,KAAKO,aAAa4B,KAAOnC,KAAKd,MAAMiD,GAExDnC,KAAKS,kBAEP2B,iBACE,IAAK,MAAMlD,KAASc,KAAKoC,eACvB,GAAIlD,EAAMiD,KAAOnC,KAAKd,MAAMiD,GAAI,CAC9BnC,KAAKd,MAAM2C,YAAa,EACxB,WCnFoX,I,wBCQ5XQ,EAAY,eACd,EACA,EACA5C,GACA,EACA,KACA,WACA,MAIa,aAAA4C,E","file":"js/chunk-f58aabde.f3da623d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=style&index=0&id=5763286c&prod&scoped=true&lang=scss&\"","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('v-card',{staticClass:\"track-card\",class:{ nowplayingtrack: _vm.nowPlaying },attrs:{\"flat\":\"\",\"tile\":\"\",\"ripple\":false},on:{\"click\":_vm.onClick}},[_c('div',{staticClass:\"d-flex flex-no-wrap justify-space-between track-content\"},[_c('div',{staticClass:\"handle\"},[_c('v-icon',{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-drag\")])],1),_c('div',{staticClass:\"track-info\"},[_c('v-btn',{staticClass:\"btn-favorite\",attrs:{\"right\":\"\",\"icon\":\"\",\"width\":\"25\",\"height\":\"25\",\"color\":_vm.track.isFavorite? 'red' : ''},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFavorite.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"size\":\"17\"}},[_vm._v(_vm._s(_vm.track.isFavorite? 'mdi-heart' : 'mdi-heart-outline'))])],1),_c('v-card-title',{staticClass:\"track-info-item track-title\",domProps:{\"textContent\":_vm._s(_vm.track.title + ' / ' + _vm.track.artist)}}),_c('v-card-subtitle',{staticClass:\"track-info-item track-artist\",domProps:{\"textContent\":_vm._s(_vm.track.singer)}}),_c('v-card-text',{staticClass:\"track-info-item video-info\"},[_c('div',{staticClass:\"track-info-item\"},[_c('a',{attrs:{\"href\":_vm.track.video.getURL(),\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{staticClass:\"icon-youtube\",attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-youtube\")])],1),_c('span',[_vm._v(_vm._s(_vm.track.video.title))])]),_c('div',{staticClass:\"track-info-item\"},[_c('a',{attrs:{\"href\":_vm.track.hasVideoInfo()? _vm.track.video.channel.url : '',\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-account\")])],1),_c('span',[_vm._v(_vm._s(_vm.track.hasVideoInfo()? _vm.track.video.channel.name : ''))])])])],1),_c('div',{staticClass:\"track-thumbnail ma-3\"},[_c('v-img',{attrs:{\"src\":_vm.track.video.getThumbnailURL('mqdefault')}}),_c('div',{staticClass:\"track-actions\"},[(_vm.queueing)?_c('v-btn',{attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addTrackToQueue(_vm.track)}}},[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-plus\")])],1):_vm._e(),_c('v-dialog',{attrs:{\"max-width\":\"450\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-playlist-plus\")])],1)]}}]),model:{value:(_vm.playlistDialog),callback:function ($$v) {_vm.playlistDialog=$$v},expression:\"playlistDialog\"}},[_c('PlaylistDialog',{attrs:{\"track\":_vm.track}})],1)],1),_c('div',{staticClass:\"track-duration\"},[_vm._v(\" \"+_vm._s(_vm.secondsToTime(_vm.track.getDuration()))+\" \")])],1)]),(_vm.deletable)?_c('div',{staticClass:\"btn-delete-track\"},[_c('v-btn',{attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\",\"width\":\"20\",\"height\":\"20\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onDelete(_vm.track)}}},[_c('v-icon',{attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-close\")])],1)],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import Vue from 'vue';\n  import {mapState, mapMutations} from 'vuex';\n  import {secondsToTime} from '@/util';\n  import * as VuexMutation from '@/store/mutation-types';\n  import {Track} from '@/models/track';\n  import Message from '@/models/message';\n\n  export default Vue.extend({\n    name: 'Track',\n    props: ['track', 'deletable', 'nowPlayingId', 'queueing'],\n    components: {\n      PlaylistDialog: () => import ('@/components/PlaylistDialog.vue'),\n     },\n    async created() {\n      await this.track.fetchVideoInfo();\n    },\n    data() {\n      return {\n        nowPlaying: false,\n        playlistDialog: false,\n      }\n    },\n    computed: {\n      ...mapState(['playingTrack', 'favoriteTracks']),\n    },\n    mounted() {\n      if (this.playingTrack && this.playingTrack.uuid === this.track.uuid) {\n        this.scrollIntoView();\n      }\n    },\n    methods: {\n      ...mapMutations({\n        addFavoriteTrack: VuexMutation.ADD_FAVORITE_TRACK,\n        removeFavoriteTrack: VuexMutation.REMOVE_FAVORITE_TRACK,\n        addToQueue: VuexMutation.ADD_TO_QUEUE,\n        addMessage: VuexMutation.ADD_MESSAGE,\n      }),\n      secondsToTime(t: number): string {\n        return secondsToTime(t);\n      },\n      onClick() {\n        this.$emit('clicked', this.track);\n        this.scrollIntoView()\n      },\n      onDelete() {\n        this.$emit('deleted', this.track);\n      },\n      scrollIntoView() {\n        // scroll into view for queued track\n        const queueElement = document.getElementById(\"queue\") as Element;\n        const nowPlayingTrackElement = queueElement.getElementsByClassName(\"nowPlayingTrack\")[0];\n        if (nowPlayingTrackElement) {\n          nowPlayingTrackElement.scrollIntoView({ behavior: 'smooth' });\n        }\n      },\n      toggleFavorite() {\n        if (this.track.isFavorite) {\n          this.removeFavoriteTrack(this.track)\n          this.track.isFavorite = false;\n        } else {\n          this.addFavoriteTrack(this.track);\n          this.track.isFavorite = true;\n        }\n      },\n      addTrackToQueue(track: Track) {\n        this.addToQueue(track.clone());\n        this.addMessage(new Message('info', '\"' + track.title + '\" をキューに追加しました'));\n      }\n    },\n    watch: {\n      playingTrack() {\n        if (this.nowPlayingId === \"uuid\") {\n          this.nowPlaying = this.playingTrack.uuid === this.track.uuid;\n        } else {\n          this.nowPlaying = this.playingTrack.id === this.track.id;\n        }\n        this.scrollIntoView();\n      },\n      favoriteTracks() {\n        for (const track of this.favoriteTracks) {\n          if (track.id === this.track.id) {\n            this.track.isFavorite = true;\n            break;\n          }\n        }\n      },\n    },\n  })\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Track.vue?vue&type=template&id=5763286c&scoped=true&\"\nimport script from \"./Track.vue?vue&type=script&lang=ts&\"\nexport * from \"./Track.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Track.vue?vue&type=style&index=0&id=5763286c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5763286c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}