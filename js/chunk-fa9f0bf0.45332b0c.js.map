{"version":3,"sources":["webpack:///./src/components/Queue.vue?8161","webpack:///./src/components/Queue.vue","webpack:///./src/components/Queue.vue?5f73","webpack:///./src/components/Queue.vue?b612","webpack:///./src/components/Queue.vue?ec98"],"names":["staticClass","attrs","on","_vm","_c","onDeleted","Vue","extend","name","components","TrackList","computed","mapState","playingTrackIndex","this","playingTrack","queuedTracks","map","track","uuid","indexOf","repeatIcon","playerRepeat","Error","methods","mapMutations","setQueue","VuexMutation","setPlayingTrack","setPlayerRepeat","cloneTrack","clone","onChange","tracks","targetTrack","filter","clean","scrollPlayingTrackIntoView","queueElement","document","getElementById","nowPlayingTrackElement","getElementsByClassName","scrollIntoView","behavior","shuffle","util","unshift","togglePlayerRepeat","component","staticRenderFns"],"mappings":"uIAAA,W,gGCAyF,MAAU,KAAyBA,IAAW,MAAC,GAAoB,EAAO,yBAAuC,SAAQ,UAACA,YAAY,iBAAcC,GAAK,MAAC,C,YAAA,sB,CAAW,SAAQ,CAAnB,YAAjC,cAAwDC,MAAG,CAAC,QAAD,UAAqCD,IAAO,MAAO,YAAO,CAACE,EAAG,OAAI,CAAyCH,OAAuBC,KAAM,O,CAAW,+BAAQ,aAAnB,YAA9B,WAAqDC,MAAG,CAAC,QAAD,UAAgDD,IAAO,MAAO,uBAAO,CAACE,EAAG,OAAI,CAAoDH,OAAqCI,KAAG,OAAwCF,CAAE,EAAC,kD,YAASC,wBAAT,WAA5C,YAA8F,oBAA2FH,IAAoCI,MAAG,EAAQ,6BAA0BH,GAAK,GAAC,kF,YAAA,uB,CAAW,SAAQ,CAAnB,YAAhC,aAAuDC,MAAG,CAAC,QAAD,UAAmCD,IAAO,MAAO,UAAO,CAACE,EAAG,OAAI,CAAoCH,OAA2BI,KAAE,OAAwC,CAACA,EAAG,oBAAS,kBAACH,YAAM,c,CAAC,QAAD,C,YAAmB,oB,CAA2B,SAAO,CAArD,OAA8DE,KAAO,GAAuCH,MAAW,2BAA6BC,KAAM,Q,CAA2B,yBAA3B,kB,YAA4C,4B,MAAiB,CAAY,OAAO,eAAQ,aAAvI,YAAgK,MAAC,EAAC,aAAuB,aAAcI,QAAjX,GAAlC,CAAr9B,mB,wBAIA,M,iECGiBC,SAAIC,OAAO,CACxBC,KAAM,QACNC,WAAY,CACVC,UAAWA,IAAM,sFAEnBC,SAAU,IACLC,eAAS,CAAC,eAAgB,eAAgB,iBAC7CC,oBACE,OAAKC,KAAKC,aACHD,KAAKE,aAAaC,IAAKC,GAAiBA,EAAMC,MAAMC,QAAQN,KAAKC,aAAaI,MAAQ,EAD9D,GAGjCE,aACE,GAA0B,eAAtBP,KAAKQ,aAA+B,MAAO,iBAC1C,GAA0B,WAAtBR,KAAKQ,aAA2B,MAAO,aAC3C,GAA0B,gBAAtBR,KAAKQ,aAAgC,MAAO,kBAChD,MAAM,IAAIC,MAAM,2BAGzBC,QAAS,IACJC,eAAa,CACdC,SAAUC,OACVC,gBAAiBD,OACjBE,gBAAiBF,SAEnBG,WAAWZ,GACT,OAAOA,EAAMa,SAEfC,SAASC,GACPnB,KAAKY,SAASO,EAAOhB,IAAKC,GAAiBA,KAE7Cb,UAAU6B,GACRpB,KAAKY,SAASZ,KAAKE,aAAamB,OAC7BjB,GAAiBA,EAAMC,OAASe,EAAYf,QAGjDiB,QACEtB,KAAKY,SAAS,KAEhBW,6BACE,MAAMC,EAAeC,SAASC,eAAe,SACvCC,EAAyBH,EAAaI,uBAAuB,mBAAmB,GAClFD,GACFA,EAAuBE,eAAe,CAAEC,SAAU,YAGtDC,UACE,IAAIZ,EAASa,OAAahC,KAAKE,cAE7BF,KAAKC,cACFkB,EAAOhB,IAAIC,GAASA,EAAMC,MAAMC,QAAQN,KAAKC,aAAaI,OAAS,IAEtEc,EAASA,EAAOE,OAAOjB,GAASA,EAAMC,OAASL,KAAKC,aAAaI,MACjEc,EAAOc,QAAQjC,KAAKC,eAEtBD,KAAKY,SAASO,GAGd,MAAMK,EAAeC,SAASC,eAAe,SACvCC,EAAyBH,EAAaI,uBAAuB,SAAS,GACxED,GACFA,EAAuBE,eAAe,CAAEC,SAAU,YAGtDI,qBACE,GAA0B,eAAtBlC,KAAKQ,aACPR,KAAKe,gBAAgB,eAChB,GAA0B,WAAtBf,KAAKQ,aACdR,KAAKe,gBAAgB,mBAChB,IAA0B,gBAAtBf,KAAKQ,aAGd,MAAM,IAAIC,MAAM,yBAFhBT,KAAKe,gBAAgB,mBC5EyY,I,wBCQpaoB,EAAY,eACd,EACA,EACAC,GACA,EACA,KACA,WACA,MAIa,aAAAD,E","file":"js/chunk-fa9f0bf0.45332b0c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=style&index=0&id=579c3852&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',[_c('div',{staticClass:\"queue-actions\"},[_c('div',{staticClass:\"queue-actions-left\"},[_c('v-btn',{staticClass:\"btn-shuffle\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":_vm.shuffle}},[_c('v-icon',{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-shuffle-variant\")])],1),_c('v-btn',{staticClass:\"btn-loop\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":_vm.togglePlayerRepeat}},[_c('v-icon',{attrs:{\"size\":\"20\"}},[_vm._v(\" \"+_vm._s(_vm.repeatIcon)+\" \")])],1)],1),_c('div',{staticClass:\"queue-actions-center\"},[_c('span',{staticClass:\"num-queued-tracks\",on:{\"click\":_vm.scrollPlayingTrackIntoView}},[_vm._v(\" \"+_vm._s(_vm.playingTrackIndex)+\" / \"+_vm._s(_vm.queuedTracks.length)+\" \")])]),_c('div',{staticClass:\"queue-actions-right\"},[_c('v-btn',{staticClass:\"btn-delete\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":_vm.clean}},[_c('v-icon',{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-delete\")])],1)],1)]),_c('div',{staticClass:\"queue-list\"},[_c('div',{staticClass:\"queue-background\"},[_c('v-icon',{attrs:{\"dark\":\"\",\"color\":\"rgba(255, 255, 255, 0.6)\",\"size\":\"100\"}},[_vm._v(\"mdi-tray-plus\")])],1),_c('TrackList',{staticClass:\"queued-tracks scroll-thin\",attrs:{\"tracks\":_vm.queuedTracks,\"deletable\":true,\"queueing\":false,\"sort\":true,\"pull\":\"clone\",\"nowPlayingId\":\"uuid\"},on:{\"changed\":_vm.onChange,\"deleted\":_vm.onDeleted}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  import Vue from 'vue';\n  import {mapState, mapMutations} from 'vuex';\n  import {Track} from '@/models/track';\n  import * as VuexMutation from '@/store/mutation-types';\n  import * as util from '@/util';\n\n  export default Vue.extend({\n    name: 'Queue',\n    components: {\n      TrackList: () => import('@/components/TrackList.vue'),\n    },\n    computed: {\n      ...mapState(['playingTrack', 'queuedTracks', 'playerRepeat']),\n      playingTrackIndex(): number {\n        if (!this.playingTrack) return 0;\n        return this.queuedTracks.map((track: Track) => track.uuid).indexOf(this.playingTrack.uuid) + 1;\n      },\n      repeatIcon(): string {\n        if (this.playerRepeat === 'repeat-off') return 'mdi-repeat-off';\n        else if (this.playerRepeat === 'repeat') return 'mdi-repeat';\n        else if (this.playerRepeat === 'repeat-once') return 'mdi-repeat-once';\n        else throw new Error('invalid repeat option');\n      }\n    },\n    methods: {\n      ...mapMutations({\n        setQueue: VuexMutation.SET_QUEUE,\n        setPlayingTrack: VuexMutation.SET_PLAYING_TRACK,\n        setPlayerRepeat: VuexMutation.SET_PLAYER_REPEAT,\n      }),\n      cloneTrack(track: Track): Track {\n        return track.clone();\n      },\n      onChange(tracks: Track[]) {\n        this.setQueue(tracks.map((track: Track) => track));\n      },\n      onDeleted(targetTrack: Track) {\n        this.setQueue(this.queuedTracks.filter(\n          (track: Track) => track.uuid !== targetTrack.uuid\n        ))\n      },\n      clean() {\n        this.setQueue([]);\n      },\n      scrollPlayingTrackIntoView() {\n        const queueElement = document.getElementById(\"queue\") as Element;\n        const nowPlayingTrackElement = queueElement.getElementsByClassName(\"nowPlayingTrack\")[0];\n        if (nowPlayingTrackElement) {\n          nowPlayingTrackElement.scrollIntoView({ behavior: 'smooth' });\n        }\n      },\n      shuffle() {\n        let tracks = util.shuffle(this.queuedTracks as Track[]);\n        if (\n          this.playingTrack\n          && tracks.map(track => track.uuid).indexOf(this.playingTrack.uuid) >= 0\n        ) {\n          tracks = tracks.filter(track => track.uuid !== this.playingTrack.uuid);\n          tracks.unshift(this.playingTrack);\n        }\n        this.setQueue(tracks);\n\n        // scroll the top track on the queue into view\n        const queueElement = document.getElementById(\"queue\") as Element;\n        const nowPlayingTrackElement = queueElement.getElementsByClassName(\"track\")[0];\n        if (nowPlayingTrackElement) {\n          nowPlayingTrackElement.scrollIntoView({ behavior: 'smooth' });\n        }\n      },\n      togglePlayerRepeat() {\n        if (this.playerRepeat === 'repeat-off') {\n          this.setPlayerRepeat('repeat');\n        } else if (this.playerRepeat === 'repeat') {\n          this.setPlayerRepeat('repeat-once');\n        } else if (this.playerRepeat === 'repeat-once'){\n          this.setPlayerRepeat('repeat-off');\n        } else {\n          throw new Error('invalid repeat option');\n        }\n      },\n    },\n  })\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Queue.vue?vue&type=template&id=579c3852&scoped=true&\"\nimport script from \"./Queue.vue?vue&type=script&lang=ts&\"\nexport * from \"./Queue.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Queue.vue?vue&type=style&index=0&id=579c3852&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"579c3852\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}