{"version":3,"sources":["webpack:///../../../src/components/VCard/index.ts","webpack:///./src/components/Track.vue?e3b1","webpack:///./src/components/Track.vue","webpack:///./src/components/Track.vue?22b3","webpack:///./src/components/Track.vue?e97d","webpack:///./src/components/Track.vue?a141"],"names":["VCardActions","VCardSubtitle","VCardText","VCardTitle","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","nowplayingtrack","nowPlaying","attrs","on","onClick","_v","track","isFavorite","$event","stopPropagation","toggleFavorite","_s","domProps","title","artist","singer","video","getURL","hasVideoInfo","channel","url","name","getThumbnailURL","addTrackToQueue","_e","scopedSlots","_u","key","fn","ref","_g","_b","model","value","callback","$$v","playlistDialog","expression","secondsToTime","getDuration","onDelete","staticRenderFns","extend","props","components","PlaylistDialog","created","fetchVideoInfo","data","computed","mounted","playingTrack","uuid","scrollIntoView","methods","addFavoriteTrack","removeFavoriteTrack","addToQueue","addMessage","t","$emit","queueElement","document","getElementById","nowPlayingTrackElement","getElementsByClassName","behavior","clone","watch","nowPlayingId","id","favoriteTracks","component","VBtn","VCard","VContainer","VDialog","VIcon","VImg"],"mappings":"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","file":"js/chunk-c24bdae0.74010d2b.js","sourcesContent":["import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{staticClass:\"track-card\",class:{ nowplayingtrack: _vm.nowPlaying },attrs:{\"flat\":\"\",\"tile\":\"\",\"ripple\":false},on:{\"click\":_vm.onClick}},[_c('div',{staticClass:\"d-flex flex-no-wrap justify-space-between track-content\"},[_c('div',{staticClass:\"handle\"},[_c('v-icon',{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-drag\")])],1),_c('div',{staticClass:\"track-info\"},[_c('v-btn',{staticClass:\"btn-favorite\",attrs:{\"right\":\"\",\"icon\":\"\",\"width\":\"25\",\"height\":\"25\",\"color\":_vm.track.isFavorite? 'red' : ''},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFavorite($event)}}},[_c('v-icon',{attrs:{\"size\":\"17\"}},[_vm._v(_vm._s(_vm.track.isFavorite? 'mdi-heart' : 'mdi-heart-outline'))])],1),_c('v-card-title',{staticClass:\"track-info-item track-title\",domProps:{\"textContent\":_vm._s(_vm.track.title + ' / ' + _vm.track.artist)}}),_c('v-card-subtitle',{staticClass:\"track-info-item track-artist\",domProps:{\"textContent\":_vm._s(_vm.track.singer)}}),_c('v-card-text',{staticClass:\"track-info-item video-info\"},[_c('div',{staticClass:\"track-info-item\"},[_c('a',{attrs:{\"href\":_vm.track.video.getURL(),\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{staticClass:\"icon-youtube\",attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-youtube\")])],1),_c('span',[_vm._v(_vm._s(_vm.track.video.title))])]),_c('div',{staticClass:\"track-info-item\"},[_c('a',{attrs:{\"href\":_vm.track.hasVideoInfo()? _vm.track.video.channel.url : '',\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-account\")])],1),_c('span',[_vm._v(_vm._s(_vm.track.hasVideoInfo()? _vm.track.video.channel.name : ''))])])])],1),_c('div',{staticClass:\"track-thumbnail ma-3\"},[_c('v-img',{attrs:{\"src\":_vm.track.video.getThumbnailURL('mqdefault')}}),_c('div',{staticClass:\"track-actions\"},[(_vm.queueing)?_c('v-btn',{attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addTrackToQueue(_vm.track)}}},[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-plus\")])],1):_vm._e(),_c('v-dialog',{attrs:{\"max-width\":\"450\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-playlist-plus\")])],1)]}}]),model:{value:(_vm.playlistDialog),callback:function ($$v) {_vm.playlistDialog=$$v},expression:\"playlistDialog\"}},[_c('PlaylistDialog',{attrs:{\"track\":_vm.track},on:{\"addedTrackToPlaylist\":function($event){_vm.playlistDialog = false}}})],1)],1),_c('div',{staticClass:\"track-duration\"},[_vm._v(\" \"+_vm._s(_vm.secondsToTime(_vm.track.getDuration()))+\" \")])],1)]),(_vm.deletable)?_c('div',{staticClass:\"btn-delete-track\"},[_c('v-btn',{attrs:{\"dark\":\"\",\"right\":\"\",\"icon\":\"\",\"width\":\"20\",\"height\":\"20\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onDelete(_vm.track)}}},[_c('v-icon',{attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-close\")])],1)],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {mapState, mapMutations} from 'vuex';\nimport {secondsToTime} from '@/util';\nimport * as VuexMutation from '@/store/mutation-types';\nimport {Track} from '@/models/track';\nimport Message from '@/models/message';\n\nexport default Vue.extend({\n  name: 'Track',\n  props: ['track', 'deletable', 'nowPlayingId', 'queueing'],\n  components: {\n    PlaylistDialog: () => import ('@/components/PlaylistDialog.vue'),\n   },\n  async created() {\n    await this.track.fetchVideoInfo();\n  },\n  data() {\n    return {\n      nowPlaying: false,\n      playlistDialog: false,\n    }\n  },\n  computed: {\n    ...mapState(['playingTrack', 'favoriteTracks']),\n  },\n  mounted() {\n    if (this.playingTrack && this.playingTrack.uuid === this.track.uuid) {\n      this.scrollIntoView();\n    }\n  },\n  methods: {\n    ...mapMutations({\n      addFavoriteTrack: VuexMutation.ADD_FAVORITE_TRACK,\n      removeFavoriteTrack: VuexMutation.REMOVE_FAVORITE_TRACK,\n      addToQueue: VuexMutation.ADD_TO_QUEUE,\n      addMessage: VuexMutation.ADD_MESSAGE,\n    }),\n    secondsToTime(t: number): string {\n      return secondsToTime(t);\n    },\n    onClick() {\n      this.$emit('clicked', this.track);\n      this.scrollIntoView()\n    },\n    onDelete() {\n      this.$emit('deleted', this.track);\n    },\n    scrollIntoView() {\n      // scroll into view for queued track\n      const queueElement = document.getElementById(\"queue\") as Element;\n      const nowPlayingTrackElement = queueElement.getElementsByClassName(\"nowPlayingTrack\")[0];\n      if (nowPlayingTrackElement) {\n        nowPlayingTrackElement.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n    toggleFavorite() {\n      if (this.track.isFavorite) {\n        this.removeFavoriteTrack(this.track)\n        this.track.isFavorite = false;\n      } else {\n        this.addFavoriteTrack(this.track);\n        this.track.isFavorite = true;\n      }\n    },\n    addTrackToQueue(track: Track) {\n      this.addToQueue(track.clone());\n      this.addMessage(new Message('info', '\"' + track.title + '\" をキューに追加しました'));\n    }\n  },\n  watch: {\n    playingTrack() {\n      if (this.nowPlayingId === \"uuid\") {\n        this.nowPlaying = this.playingTrack.uuid === this.track.uuid;\n      } else {\n        this.nowPlaying = this.playingTrack.id === this.track.id;\n      }\n      this.scrollIntoView();\n    },\n    favoriteTracks() {\n      for (const track of this.favoriteTracks) {\n        if (track.id === this.track.id) {\n          this.track.isFavorite = true;\n          break;\n        }\n      }\n    },\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Track.vue?vue&type=template&id=d6ec9e94&scoped=true&\"\nimport script from \"./Track.vue?vue&type=script&lang=ts&\"\nexport * from \"./Track.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Track.vue?vue&type=style&index=0&id=d6ec9e94&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6ec9e94\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VContainer,VDialog,VIcon,VImg})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Track.vue?vue&type=style&index=0&id=d6ec9e94&scoped=true&lang=scss&\""],"sourceRoot":""}